{% load static %}
{% load watson %}

<!DOCTYPE html>
<html lang="en">
<head>

    {% block meta %}
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% endblock %}

    {% block extra_meta %}
    {% endblock %}

    {% block corecss %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% endblock %}

    {% block extra_css %}
    {% endblock %}

    {% block corejs %}
        <script src="https://kit.fontawesome.com/93ceedf6fa.js" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
        <script src="{% static 'js/base.js' %}"></script>
        <script src="https://js.stripe.com/v3/"></script>
    {% endblock %}

    {% block extra_js %}
    {% endblock %}

    <title>SciFi Zone {% block extra_title%}{% endblock %} </title>
</head>

<body class="has-navbar-fixed-top">
    <header>
        {% include "includes/navbar.html" %}
    </header>
    {% if messages %}
        {% for message in messages %}
                    {% with message.level as level %}
                        {% if level == 40 %}
                            {% include 'includes/toasts/toast_error.html' %}
                        {% elif level == 30 %}
                            {% include 'includes/toasts/toast_warning.html' %}
                        {% elif level == 25 %}
                            {% include 'includes/toasts/toast_success.html' %}
                        {% else %}
                            {% include 'includes/toasts/toast_info.html' %}
                        {% endif %}
                    {% endwith %}
                {% endfor %}
    {% endif %}

    {% block page_header %}
    {% endblock %}

    {% block search_results %}
    {% if search_results %}
        <section id="wrapper" class="hero fullheight-with-navbar bg--sky-900 text__color-sky-100">
            <div class="hero-body">
                <div class="container">
                    <div class="columns is-multiline is-centered">
                        <div class="column is-8-tablet my-2 has-text-centered">
                        {% if search_results %}
                            <h1 class="title is-1 has-text-centered text__color-sky-100 heading__text--shadow-blue">Search results{% if query %} for &ldquo;{{query}}&rdquo;:{% endif %}</h1>
                                <p class="is-size-4 is-size-3-tablet mb-5">
                                    Click the links to go to the page with details about the result
                                </p>
                                    <ul>
                                        {% for result in search_results %}
                                            <li>
                                                <article>
                                                    {# watson_searchentry value for tickets #}
                                                    {% if result.content_type_id == 15%}
                                                        <a href="{% url 'ticket_detail' result.object.id %}" class="is-size-4 is-size-3-tablet text__color-sky-100 link--light">{{ result.title }} </a>
                                                    {# watson_searchentry value for actors #}
                                                    {% elif result.content_type_id == 17 %}
                                                        <p class="is-size-4 is-size-3-tablet"></p>
                                                            <a href="{% url 'guest_detail' result.object.id %}" class="is-size-4 is-size-3-tablet text__color-sky-100 link--light">{{ result.title }} </a>
                                                    {% endif %}
                                                </article>
                                            </li>
                                        {% endfor %}
                                    </ul>
                        {% else %}
                            {% if query %}
                                <p class="is-size-4 is-size-3-tablet"><em>There are no results to display.</em></p>
                                <p class="is-size-4 is-size-3-tablet"><em>Try entering a less specific search term.</em></p>
                            {% else %}
                                <p class="is-size-4 is-size-3-tablet"><em>Please enter a query in the search form.</em></p>
                            {% endif %}
                        {% endif %}
                        </div> <!-- end of column -->
                    </div> <!-- end of columns -->
                </div> <!-- end of container-->
            </div> <!-- end of hero-body -->
        </section>
    {% endif %}
    {% endblock %}

    {% block content %}
    {% endblock %}

    {% include "includes/footer.html" %}

    {% block postloadjs %}
    {% endblock %}


</body>
</html>